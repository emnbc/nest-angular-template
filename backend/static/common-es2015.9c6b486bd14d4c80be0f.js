(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+2po":function(t,e,r){"use strict";r.d(e,"a",function(){return o});var s=r("PCNd"),i=r("5dmV"),a=r("fXoL");let o=(()=>{class t{}return t.\u0275mod=a.Lb({type:t}),t.\u0275inj=a.Kb({factory:function(e){return new(e||t)},imports:[[s.a,i.a]]}),t})()},Lrq1:function(t,e,r){"use strict";r.d(e,"a",function(){return O}),r.d(e,"b",function(){return q});var s=r("fXoL"),i=r("3Pt+"),a=r("XNiG"),o=r("tLlE"),n=r("kmnG"),u=r("qFsG"),l=r("ofXK"),m=r("iadO");function b(t,e){1&t&&(s.Tb(0,"mat-error"),s.zc(1,"Please enter at least 3 characters"),s.Sb())}function c(t,e){1&t&&(s.Tb(0,"mat-error"),s.zc(1,"Please enter at least 3 characters"),s.Sb())}function p(t,e){1&t&&(s.Tb(0,"mat-error"),s.zc(1,"This field required"),s.Sb())}function d(t,e){1&t&&(s.Tb(0,"mat-error"),s.zc(1,"Enter a valid email"),s.Sb())}function f(t,e){1&t&&(s.Tb(0,"mat-error"),s.zc(1,"Please enter at least 3 characters"),s.Sb())}function h(t,e){1&t&&(s.Tb(0,"mat-error"),s.zc(1,"Please enter at least 3 characters"),s.Sb())}function g(t,e){if(1&t&&(s.Tb(0,"mat-form-field",1),s.Tb(1,"mat-label"),s.zc(2,"Enter password"),s.Sb(),s.Ob(3,"input",11),s.yc(4,h,2,0,"mat-error",3),s.Sb()),2&t){const t=s.ec();s.Cb(4),s.kc("ngIf",t.userFormGroup.controls.password.invalid)}}var O=function(t){return t.SENDING="SENDING",t.OK="OK",t.ERROR="ERROR",t}({});let q=(()=>{class t{constructor(t,e){this.fb=t,this.http=e,this.submit=new a.a,this.result=new s.o,this.hide=!0,this.userFormGroup=this.fb.group({firstName:[null,[i.q.required,i.q.minLength(3),i.q.maxLength(30)]],lastName:[null,[i.q.required,i.q.minLength(3),i.q.maxLength(30)]],username:[null,[i.q.required,i.q.minLength(3),i.q.maxLength(20)]],email:[null,[i.q.required,i.q.email,i.q.maxLength(30)]],password:[null,[i.q.required,i.q.minLength(3),i.q.maxLength(30)]],birthDate:[null,[i.q.required]]})}get isEdit(){var t;return!!(null===(t=this.user)||void 0===t?void 0:t.id)}ngOnInit(){if(this.submit.subscribe(()=>this.isEdit?this.submitUpdate():this.submitRegister()),this.user){const t=function(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(r[s[i]]=t[s[i]])}return r}(this.user,["id","registerDate"]);this.userFormGroup.setValue(t),this.userFormGroup.removeControl("password"),this.userFormGroup.setControl("username",new i.e({value:this.user.username,disabled:!0}))}}submitRegister(){this.userFormGroup.valid?(this.result.emit({status:O.SENDING,result:null}),this.http.create("users",this.userFormGroup.value).subscribe(t=>{setTimeout(()=>{this.result.emit({status:O.OK,result:t})},300)},()=>{setTimeout(()=>{this.result.emit({status:O.ERROR,result:null})},300)})):this.userFormGroup.markAllAsTouched()}submitUpdate(){this.userFormGroup.valid?(this.result.emit({status:O.SENDING,result:null}),this.http.update("users",this.user.id,this.userFormGroup.value).subscribe(t=>{setTimeout(()=>{this.result.emit({status:O.OK,result:t})},300)},()=>{setTimeout(()=>{this.result.emit({status:O.ERROR,result:null})},300)})):this.userFormGroup.markAllAsTouched()}}return t.\u0275fac=function(e){return new(e||t)(s.Nb(i.d),s.Nb(o.a))},t.\u0275cmp=s.Hb({type:t,selectors:[["user-registration"]],inputs:{user:"user",submit:"submit"},outputs:{result:"result"},decls:35,vars:9,consts:[[3,"formGroup","ngSubmit"],["appearance","fill",1,"register__field"],["matInput","","formControlName","firstName","placeholder","Enter your first name","required",""],[4,"ngIf"],["matInput","","formControlName","lastName","placeholder","Enter your last name","required",""],["matInput","","formControlName","birthDate","format","yyyy-MM-dd","required","",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["matInput","","formControlName","email","placeholder","Enter your email","required",""],["matInput","","formControlName","username","placeholder","Enter your username","required",""],["class","register__field","appearance","fill",4,"ngIf"],["matInput","","type","password","autocomplete","off","formControlName","password","placeholder","Enter password","required",""]],template:function(t,e){if(1&t&&(s.Tb(0,"form",0),s.ac("ngSubmit",function(){return e.isEdit?e.submitUpdate():e.submitRegister()}),s.Tb(1,"mat-form-field",1),s.Tb(2,"mat-label"),s.zc(3,"First name"),s.Sb(),s.Ob(4,"input",2),s.yc(5,b,2,0,"mat-error",3),s.Sb(),s.Ob(6,"br"),s.Tb(7,"mat-form-field",1),s.Tb(8,"mat-label"),s.zc(9,"Last name"),s.Sb(),s.Ob(10,"input",4),s.yc(11,c,2,0,"mat-error",3),s.Sb(),s.Ob(12,"br"),s.Tb(13,"mat-form-field",1),s.Tb(14,"mat-label"),s.zc(15,"Birth Date"),s.Sb(),s.Ob(16,"input",5),s.Ob(17,"mat-datepicker-toggle",6),s.Ob(18,"mat-datepicker",null,7),s.yc(20,p,2,0,"mat-error",3),s.Sb(),s.Ob(21,"br"),s.Tb(22,"mat-form-field",1),s.Tb(23,"mat-label"),s.zc(24,"Email"),s.Sb(),s.Ob(25,"input",8),s.yc(26,d,2,0,"mat-error",3),s.Sb(),s.Ob(27,"br"),s.Tb(28,"mat-form-field",1),s.Tb(29,"mat-label"),s.zc(30,"Username"),s.Sb(),s.Ob(31,"input",9),s.yc(32,f,2,0,"mat-error",3),s.Sb(),s.Ob(33,"br"),s.yc(34,g,5,1,"mat-form-field",10),s.Sb()),2&t){const t=s.pc(19);s.kc("formGroup",e.userFormGroup),s.Cb(5),s.kc("ngIf",e.userFormGroup.controls.firstName.invalid),s.Cb(6),s.kc("ngIf",e.userFormGroup.controls.lastName.invalid),s.Cb(5),s.kc("matDatepicker",t),s.Cb(1),s.kc("for",t),s.Cb(3),s.kc("ngIf",e.userFormGroup.controls.birthDate.invalid),s.Cb(6),s.kc("ngIf",e.userFormGroup.controls.email.invalid),s.Cb(6),s.kc("ngIf",e.userFormGroup.controls.username.invalid),s.Cb(2),s.kc("ngIf",!e.isEdit)}},directives:[i.r,i.m,i.g,n.c,n.f,u.b,i.c,i.l,i.f,i.p,l.l,m.b,m.d,n.g,m.a,n.b],styles:["[_nghost-%COMP%]   .register[_ngcontent-%COMP%]{width:100%;max-width:400px}[_nghost-%COMP%]   .register__field[_ngcontent-%COMP%]{width:100%;margin-bottom:10px}[_nghost-%COMP%]   .register__button-field[_ngcontent-%COMP%]{width:100%;margin-top:10px}"]}),t})()}}]);