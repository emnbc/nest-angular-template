(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+2po":function(t,e,r){"use strict";r.d(e,"a",function(){return a});var s=r("PCNd"),i=r("5dmV"),n=r("fXoL");let a=(()=>{class t{}return t.\u0275mod=n.Lb({type:t}),t.\u0275inj=n.Kb({factory:function(e){return new(e||t)},imports:[[s.a,i.a]]}),t})()},Lrq1:function(t,e,r){"use strict";r.d(e,"a",function(){return y}),r.d(e,"b",function(){return q});var s=r("mrSG"),i=r("fXoL"),n=r("3Pt+"),a=r("XNiG"),o=r("tLlE"),u=r("kmnG"),l=r("qFsG"),m=r("ofXK"),c=r("iadO");function b(t,e){1&t&&(i.Tb(0,"mat-error"),i.zc(1,"Please enter at least 3 characters"),i.Sb())}function f(t,e){1&t&&(i.Tb(0,"mat-error"),i.zc(1,"Please enter at least 3 characters"),i.Sb())}function p(t,e){1&t&&(i.Tb(0,"mat-error"),i.zc(1,"This field required"),i.Sb())}function d(t,e){1&t&&(i.Tb(0,"mat-error"),i.zc(1,"Enter a valid email"),i.Sb())}function h(t,e){1&t&&(i.Tb(0,"mat-error"),i.zc(1,"Please enter at least 3 characters"),i.Sb())}function g(t,e){1&t&&(i.Tb(0,"mat-error"),i.zc(1,"Please enter at least 3 characters"),i.Sb())}function O(t,e){if(1&t&&(i.Tb(0,"mat-form-field",1),i.Tb(1,"mat-label"),i.zc(2,"Enter password"),i.Sb(),i.Ob(3,"input",11),i.yc(4,g,2,0,"mat-error",3),i.Sb()),2&t){const t=i.ec();i.Cb(4),i.kc("ngIf",t.userFormGroup.controls.password.invalid)}}var y=function(t){return t.SENDING="SENDING",t.OK="OK",t.ERROR="ERROR",t}({});let q=(()=>{class t{constructor(t,e){this.fb=t,this.http=e,this.submit=new a.a,this.result=new i.o,this.hide=!0,this.userFormGroup=this.fb.group({firstName:[null,[n.q.required,n.q.minLength(3),n.q.maxLength(30)]],lastName:[null,[n.q.required,n.q.minLength(3),n.q.maxLength(30)]],username:[null,[n.q.required,n.q.minLength(3),n.q.maxLength(20)]],email:[null,[n.q.required,n.q.email,n.q.maxLength(30)]],password:[null,[n.q.required,n.q.minLength(3),n.q.maxLength(30)]],birthDate:[null,[n.q.required]]})}get isEdit(){var t;return!!(null===(t=this.user)||void 0===t?void 0:t.id)}ngOnInit(){if(this.submit.subscribe(()=>this.isEdit?this.submitUpdate():this.submitRegister()),this.user){const t=this.user,e=Object(s.b)(t,["id","registerDate","avatar"]);this.userFormGroup.setValue(e),this.userFormGroup.removeControl("password"),this.userFormGroup.setControl("username",new n.e({value:this.user.username,disabled:!0}))}}submitRegister(){this.userFormGroup.valid?(this.result.emit({status:y.SENDING,result:null}),this.http.create("users",this.userFormGroup.value).subscribe(t=>{setTimeout(()=>{this.result.emit({status:y.OK,result:t})},300)},()=>{setTimeout(()=>{this.result.emit({status:y.ERROR,result:null})},300)})):this.userFormGroup.markAllAsTouched()}submitUpdate(){this.userFormGroup.valid?(this.result.emit({status:y.SENDING,result:null}),this.http.update("users",this.user.id,this.userFormGroup.value).subscribe(t=>{setTimeout(()=>{this.result.emit({status:y.OK,result:t})},300)},()=>{setTimeout(()=>{this.result.emit({status:y.ERROR,result:null})},300)})):this.userFormGroup.markAllAsTouched()}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(n.d),i.Nb(o.a))},t.\u0275cmp=i.Hb({type:t,selectors:[["user-registration"]],inputs:{user:"user",submit:"submit"},outputs:{result:"result"},decls:35,vars:9,consts:[[3,"formGroup","ngSubmit"],["appearance","fill",1,"register__field"],["matInput","","formControlName","firstName","placeholder","Enter your first name","required",""],[4,"ngIf"],["matInput","","formControlName","lastName","placeholder","Enter your last name","required",""],["matInput","","formControlName","birthDate","format","yyyy-MM-dd","required","",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["matInput","","formControlName","email","placeholder","Enter your email","required",""],["matInput","","formControlName","username","placeholder","Enter your username","required",""],["class","register__field","appearance","fill",4,"ngIf"],["matInput","","type","password","autocomplete","off","formControlName","password","placeholder","Enter password","required",""]],template:function(t,e){if(1&t&&(i.Tb(0,"form",0),i.ac("ngSubmit",function(){return e.isEdit?e.submitUpdate():e.submitRegister()}),i.Tb(1,"mat-form-field",1),i.Tb(2,"mat-label"),i.zc(3,"First name"),i.Sb(),i.Ob(4,"input",2),i.yc(5,b,2,0,"mat-error",3),i.Sb(),i.Ob(6,"br"),i.Tb(7,"mat-form-field",1),i.Tb(8,"mat-label"),i.zc(9,"Last name"),i.Sb(),i.Ob(10,"input",4),i.yc(11,f,2,0,"mat-error",3),i.Sb(),i.Ob(12,"br"),i.Tb(13,"mat-form-field",1),i.Tb(14,"mat-label"),i.zc(15,"Birth Date"),i.Sb(),i.Ob(16,"input",5),i.Ob(17,"mat-datepicker-toggle",6),i.Ob(18,"mat-datepicker",null,7),i.yc(20,p,2,0,"mat-error",3),i.Sb(),i.Ob(21,"br"),i.Tb(22,"mat-form-field",1),i.Tb(23,"mat-label"),i.zc(24,"Email"),i.Sb(),i.Ob(25,"input",8),i.yc(26,d,2,0,"mat-error",3),i.Sb(),i.Ob(27,"br"),i.Tb(28,"mat-form-field",1),i.Tb(29,"mat-label"),i.zc(30,"Username"),i.Sb(),i.Ob(31,"input",9),i.yc(32,h,2,0,"mat-error",3),i.Sb(),i.Ob(33,"br"),i.yc(34,O,5,1,"mat-form-field",10),i.Sb()),2&t){const t=i.pc(19);i.kc("formGroup",e.userFormGroup),i.Cb(5),i.kc("ngIf",e.userFormGroup.controls.firstName.invalid),i.Cb(6),i.kc("ngIf",e.userFormGroup.controls.lastName.invalid),i.Cb(5),i.kc("matDatepicker",t),i.Cb(1),i.kc("for",t),i.Cb(3),i.kc("ngIf",e.userFormGroup.controls.birthDate.invalid),i.Cb(6),i.kc("ngIf",e.userFormGroup.controls.email.invalid),i.Cb(6),i.kc("ngIf",e.userFormGroup.controls.username.invalid),i.Cb(2),i.kc("ngIf",!e.isEdit)}},directives:[n.r,n.m,n.g,u.c,u.f,l.b,n.c,n.l,n.f,n.p,m.l,c.b,c.d,u.g,c.a,u.b],styles:["[_nghost-%COMP%]   .register[_ngcontent-%COMP%]{width:100%;max-width:400px}[_nghost-%COMP%]   .register__field[_ngcontent-%COMP%]{width:100%;margin-bottom:10px}[_nghost-%COMP%]   .register__button-field[_ngcontent-%COMP%]{width:100%;margin-top:10px}"]}),t})()},mrSG:function(t,e,r){"use strict";function s(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(r[s[i]]=t[s[i]])}return r}function i(t,e,r,s){return new(r||(r=Promise))(function(i,n){function a(t){try{u(s.next(t))}catch(e){n(e)}}function o(t){try{u(s.throw(t))}catch(e){n(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r(function(t){t(e)})).then(a,o)}u((s=s.apply(t,e||[])).next())})}r.d(e,"b",function(){return s}),r.d(e,"a",function(){return i})}}]);