(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+2po":function(t,r,e){"use strict";e.d(r,"a",(function(){return o}));var s=e("PCNd"),i=e("5dmV"),a=e("fXoL");let o=(()=>{class t{}return t.\u0275mod=a.Mb({type:t}),t.\u0275inj=a.Lb({factory:function(r){return new(r||t)},imports:[[s.a,i.a]]}),t})()},Lrq1:function(t,r,e){"use strict";e.d(r,"a",(function(){return P})),e.d(r,"b",(function(){return O}));var s=e("fXoL"),i=e("3Pt+"),a=e("XNiG"),o=e("tLlE"),n=e("kmnG"),u=e("qFsG"),m=e("ofXK"),l=e("iadO");function b(t,r){1&t&&(s.Ub(0,"mat-error"),s.Bc(1,"Please enter at least 3 characters"),s.Tb())}function c(t,r){1&t&&(s.Ub(0,"mat-error"),s.Bc(1,"Please enter at least 3 characters"),s.Tb())}function p(t,r){1&t&&(s.Ub(0,"mat-error"),s.Bc(1,"This field required"),s.Tb())}function d(t,r){1&t&&(s.Ub(0,"mat-error"),s.Bc(1,"Enter a valid email"),s.Tb())}function f(t,r){1&t&&(s.Ub(0,"mat-error"),s.Bc(1,"Please enter at least 3 characters"),s.Tb())}function h(t,r){1&t&&(s.Ub(0,"mat-error"),s.Bc(1,"Please enter at least 3 characters"),s.Tb())}function g(t,r){if(1&t&&(s.Ub(0,"mat-form-field",1),s.Ub(1,"mat-label"),s.Bc(2,"Enter password"),s.Tb(),s.Pb(3,"input",11),s.Ac(4,h,2,0,"mat-error",3),s.Tb()),2&t){const t=s.gc();s.Cb(4),s.mc("ngIf",t.userFormGroup.controls.password.invalid)}}var P=function(t){return t.SENDING="SENDING",t.OK="OK",t.ERROR="ERROR",t}({});let O=(()=>{class t{constructor(t,r){this.fb=t,this.http=r,this.submit=new a.a,this.result=new s.o,this.hide=!0,this.userFormGroup=this.fb.group({firstName:[null,[i.p.required,i.p.minLength(3),i.p.maxLength(30)]],lastName:[null,[i.p.required,i.p.minLength(3),i.p.maxLength(30)]],username:[null,[i.p.required,i.p.minLength(3),i.p.maxLength(20)]],email:[null,[i.p.required,i.p.email,i.p.maxLength(30)]],password:[null,[i.p.required,i.p.minLength(3),i.p.maxLength(30)]],birthDate:[null,[i.p.required]]})}get isEdit(){var t;return!!(null===(t=this.user)||void 0===t?void 0:t.id)}ngOnInit(){if(this.submit.subscribe(()=>this.isEdit?this.submitUpdate():this.submitRegister()),this.user){const t=function(t,r){var e={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&r.indexOf(s)<0&&(e[s]=t[s]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(s=Object.getOwnPropertySymbols(t);i<s.length;i++)r.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(e[s[i]]=t[s[i]])}return e}(this.user,["id","registerDate"]);this.userFormGroup.setValue(t),this.userFormGroup.removeControl("password"),this.userFormGroup.setControl("username",new i.d({value:this.user.username,disabled:!0}))}}submitRegister(){this.userFormGroup.valid?(this.result.emit({status:P.SENDING,result:null}),this.http.create("users",this.userFormGroup.value).subscribe(t=>{setTimeout(()=>{this.result.emit({status:P.OK,result:t})},300)},()=>{setTimeout(()=>{this.result.emit({status:P.ERROR,result:null})},300)})):this.userFormGroup.markAllAsTouched()}submitUpdate(){this.userFormGroup.valid?(this.result.emit({status:P.SENDING,result:null}),this.http.update("users",this.user.id,this.userFormGroup.value).subscribe(t=>{setTimeout(()=>{this.result.emit({status:P.OK,result:t})},300)},()=>{setTimeout(()=>{this.result.emit({status:P.ERROR,result:null})},300)})):this.userFormGroup.markAllAsTouched()}}return t.\u0275fac=function(r){return new(r||t)(s.Ob(i.c),s.Ob(o.a))},t.\u0275cmp=s.Ib({type:t,selectors:[["user-registration"]],inputs:{user:"user",submit:"submit"},outputs:{result:"result"},decls:35,vars:9,consts:[[3,"formGroup","ngSubmit"],["appearance","fill",1,"register__field"],["matInput","","formControlName","firstName","placeholder","Enter your first name","required",""],[4,"ngIf"],["matInput","","formControlName","lastName","placeholder","Enter your last name","required",""],["matInput","","formControlName","birthDate","format","yyyy-MM-dd","required","",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["matInput","","formControlName","email","placeholder","Enter your email","required",""],["matInput","","formControlName","username","placeholder","Enter your username","required",""],["class","register__field","appearance","fill",4,"ngIf"],["matInput","","type","password","autocomplete","off","formControlName","password","placeholder","Enter password","required",""]],template:function(t,r){if(1&t&&(s.Ub(0,"form",0),s.cc("ngSubmit",(function(){return r.isEdit?r.submitUpdate():r.submitRegister()})),s.Ub(1,"mat-form-field",1),s.Ub(2,"mat-label"),s.Bc(3,"First name"),s.Tb(),s.Pb(4,"input",2),s.Ac(5,b,2,0,"mat-error",3),s.Tb(),s.Pb(6,"br"),s.Ub(7,"mat-form-field",1),s.Ub(8,"mat-label"),s.Bc(9,"Last name"),s.Tb(),s.Pb(10,"input",4),s.Ac(11,c,2,0,"mat-error",3),s.Tb(),s.Pb(12,"br"),s.Ub(13,"mat-form-field",1),s.Ub(14,"mat-label"),s.Bc(15,"Birth Date"),s.Tb(),s.Pb(16,"input",5),s.Pb(17,"mat-datepicker-toggle",6),s.Pb(18,"mat-datepicker",null,7),s.Ac(20,p,2,0,"mat-error",3),s.Tb(),s.Pb(21,"br"),s.Ub(22,"mat-form-field",1),s.Ub(23,"mat-label"),s.Bc(24,"Email"),s.Tb(),s.Pb(25,"input",8),s.Ac(26,d,2,0,"mat-error",3),s.Tb(),s.Pb(27,"br"),s.Ub(28,"mat-form-field",1),s.Ub(29,"mat-label"),s.Bc(30,"Username"),s.Tb(),s.Pb(31,"input",9),s.Ac(32,f,2,0,"mat-error",3),s.Tb(),s.Pb(33,"br"),s.Ac(34,g,5,1,"mat-form-field",10),s.Tb()),2&t){const t=s.rc(19);s.mc("formGroup",r.userFormGroup),s.Cb(5),s.mc("ngIf",r.userFormGroup.controls.firstName.invalid),s.Cb(6),s.mc("ngIf",r.userFormGroup.controls.lastName.invalid),s.Cb(5),s.mc("matDatepicker",t),s.Cb(1),s.mc("for",t),s.Cb(3),s.mc("ngIf",r.userFormGroup.controls.birthDate.invalid),s.Cb(6),s.mc("ngIf",r.userFormGroup.controls.email.invalid),s.Cb(6),s.mc("ngIf",r.userFormGroup.controls.username.invalid),s.Cb(2),s.mc("ngIf",!r.isEdit)}},directives:[i.q,i.l,i.f,n.c,n.f,u.b,i.b,i.k,i.e,i.o,m.l,l.b,l.d,n.g,l.a,n.b],styles:["[_nghost-%COMP%]   .register[_ngcontent-%COMP%]{width:100%;max-width:400px}[_nghost-%COMP%]   .register__field[_ngcontent-%COMP%]{width:100%;margin-bottom:10px}[_nghost-%COMP%]   .register__button-field[_ngcontent-%COMP%]{width:100%;margin-top:10px}"]}),t})()}}]);